<html>

<head>
  <title>Alhafi News Blogs</title>
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />

  <script src="https://unpkg.com/htmx.org"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/client-side-templates.js"></script>
  <script src="https://unpkg.com/mustache@latest"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/response-targets.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/nunjucks@3.2.4/browser/nunjucks.min.js"></script>
  <!-- <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script> -->
  <script src="./lib/HTMX/json-enc.js"></script>

  <script>
    // CORS workaround
    document.addEventListener("htmx:configRequest", (evt) => {
      evt.detail.headers = [];
    });
  </script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
</head>

<body>


  <form hx-post="https://localhost:7137/posts" hx-target=".posts-div" hx-indicator="#indicator"
    hx-swap="beforeend" hx-trigger="submit">
    <input id="titleID" type="text" class="form-control mb-3" name="title" placeholder="Please enter Title" required />

    <textarea class="form-control mb-3" name="content" id="contentID" rows="3"
      placeholder="Please enter Content"></textarea>

    <a href="#" class="btn btn-success" hx-put="https://localhost:7137/posts/{{id}}" hx-target=".posts-div"
      hx-swap="none" hx-indicator="#indicator" hx-include="[name=title] ,[name=content]"
      hx-vals="js:{titleID: changeText()}" hx-validate="true" >
      Save</a>


    <button type="button" class="btn btn-warning" hx-target=".body">Cancel</button>
    <img id="indicator" class="htmx-indicator" src="./assests/img/load.gif" alt="Loading...." width="30" height="30" />
  </form>



</body>

</html>